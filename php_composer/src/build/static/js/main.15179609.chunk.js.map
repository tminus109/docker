{"version":3,"sources":["AuthService.js","Bejelentkezes.js","Kijelentkezes.js","SzallasLista.js","SzallasSingle.js","App.js","reportWebVitals.js","index.js"],"names":["accessToken","fetchHitelesitessel","axios","create","Bejelentkezes","history","useHistory","useState","isLoginPending","setLoginPending","className","onSubmit","e","email","password","preventDefault","target","elements","value","post","withCredentials","then","res","data","push","catch","err","alert","type","name","placeholder","Kijelentkezes","onClick","finally","SzallasLista","szallasok","setSzallasok","isPending","setPending","useEffect","get","tartalom","length","map","szallas","to","id","host_name","neighbourhood","neighbourhood_group","minimum_nights","price","SzallasSingle","setSzallas","App","path","exact","component","props","match","params","szallasId","interceptors","request","use","config","headers","Authorization","error","Promise","reject","response","originalRequest","isRetry","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15179609.chunk.js","sourcesContent":["import axios from \"axios\";\n\nlet accessToken = \"\";\n\nexport function login(email, password) {\n  return axios\n    .post(\"/api/login-user\", { email, password }, { withCredentials: true })\n    .then((res) => {\n      accessToken = res.data.accessToken;\n    });\n}\n\nexport function logout() {\n  return axios.post(\"/api/logout-user\", {}, { withCredentials: true }).then((res) => {\n    accessToken = \"\";\n  });\n}\n\nexport const fetchHitelesitessel = axios.create();\nfetchHitelesitessel.interceptors.request.use(\n  (config) => {\n    if (!accessToken) {\n      return config;\n    }\n\n    return {\n      ...config,\n      headers: {\n        ...config.headers,\n        Authorization: `Bearer ${accessToken}`,\n      },\n    };\n  },\n  (error) => Promise.reject(error)\n);\n\nfetchHitelesitessel.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const originalRequest = error.config;\n\n    if (originalRequest.isRetry) {\n      return Promise.reject(error);\n    }\n\n    originalRequest.isRetry = true;\n\n    if (error.response.status !== 401) {\n      return Promise.reject(error);\n    }\n\n    return axios\n      .get(\"/api/get-new-access-token\", {\n        withCredentials: true,\n      })\n      .then((res) => {\n        accessToken = res.data.accessToken;\n      })\n      .then(() => fetchHitelesitessel(originalRequest));\n  }\n);","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { login } from \"./AuthService\";\nexport function Bejelentkezes() {\n  const history = useHistory();\n  const [isLoginPending, setLoginPending] = useState(false);\n\n  function loginFormSubmit(e) {\n    e.preventDefault();\n    setLoginPending(true);\n    login(e.target.elements.email.value, e.target.elements.password.value)\n      .then(() => {\n        setLoginPending(false);\n        history.push(\"/osszes-szallas\");\n      })\n      .catch((err) => {\n        alert(\"Helytelen bejelentkezési adatok, kérjük próbáld újra!\");\n        setLoginPending(false);\n      });\n  }\n\n  if (isLoginPending) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-fluid d-flex justify-content-center h-100 login-container\">\n      <div className=\"card login-card\">\n        <div className=\"card-header login-card-header\">\n          <h4>Bejelentkezés</h4>\n        </div>\n        <div className=\"card-body\">\n          <form onSubmit={loginFormSubmit} className=\"mb-5\">\n            <div className=\"input-group form-group\">\n              <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Email\" />\n            </div>\n            <div className=\"input-group form-group\">\n              <input type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Jelszó\" />\n            </div>\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn float-right btn-warning\">\n                Küldés\n              </button>\n            </div>\n          </form>\n\n          <p className=\"text-light mb-1\">Email: user@kodbazis.hu</p>\n          <p className=\"text-light\">Jelszó: teszt</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport { logout } from \"./AuthService\";\n\nexport function Kijelentkezes() {\n  const history = useHistory();\n  return (\n    <button\n      className=\"btn btn-danger m-3 float-right\"\n      onClick={() => {\n        logout().finally(() => {\n          history.push(\"/\");\n        });\n      }}\n    >\n      Kijelentkezés\n    </button>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory, NavLink } from \"react-router-dom\";\nimport { fetchHitelesitessel } from \"./AuthService\";\nimport { Kijelentkezes } from \"./Kijelentkezes\";\nexport function SzallasLista() {\n  const [szallasok, setSzallasok] = useState([]);\n  const [isPending, setPending] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    setPending(true);\n    fetchHitelesitessel\n      .get(\"/api/szallasok\")\n      .then((res) => res.data)\n      .then((tartalom) => {\n        setPending(false);\n        setSzallasok(tartalom);\n      })\n      .catch(() => {\n        setPending(false);\n        history.push(\"/\");\n      });\n  }, []);\n\n  if (isPending || !szallasok.length) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n\n}\n  return (\n    <div>\n      <Kijelentkezes />\n      <ul className=\"list-group w-100\">\n        <div className=\"row border-bottom p-2 text-dark\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <h5 className=\"visible-xs\">Megnevezés</h5>\n          </div>\n          <h5 className=\"col-xs-4 col-sm-2 right\">Helyszín</h5>\n          <h5 className=\"col-xs-8 col-sm-3\">Minimum éjszakák száma</h5>\n          <h5 className=\"col-xs-10 col-sm-2\">Ár</h5>\n        </div>\n        {szallasok.map((szallas) => (\n          <NavLink key={szallas.id} to={\"/szallas-\" + szallas.id}>\n            <div className=\"row border-bottom p-2 text-dark\">\n              <div className=\"col-xs-12 col-sm-4\">\n                <h4 className=\"visible-xs\">{szallas.name}</h4>\n                <span className=\"hidden-xs\">{szallas.host_name}</span>\n              </div>\n              <div className=\"col-xs-4 col-sm-2 right\">\n                {szallas.neighbourhood} {szallas.neighbourhood_group}\n              </div>\n              <div className=\"col-xs-8 col-sm-3\">{szallas.minimum_nights}</div>\n              <div className=\"col-xs-10 col-sm-2\">{szallas.price}$</div>\n            </div>\n          </NavLink>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchHitelesitessel } from \"./AuthService\";\nimport { Kijelentkezes } from \"./Kijelentkezes\";\n\nexport function SzallasSingle({ id }) {\n  const [szallas, setSzallas] = useState({});\n  const [isPending, setPending] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    setPending(true);\n    fetchHitelesitessel\n      .get(\"/api/szallasok/\" + id)\n      .then((res) => res.data)\n      .then((tartalom) => {\n        setSzallas(tartalom);\n        setPending(false);\n      })\n      .catch(() => {\n        setPending(false);\n        history.push(\"/\");\n      });\n  }, []);\n\n  if (isPending || !szallas.id) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card w-100 m-auto p-3\">\n      <h1>{szallas.name}</h1>\n      <h3>{szallas.host_name}</h3>\n      <h3>\n        {szallas.neighbourhood} {szallas.neighbourhood_group}\n      </h3>\n      <h3>{szallas.minimum_nights}</h3>\n      <Kijelentkezes />\n    </div>\n  );\n}\n","import \"./App.css\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport { Bejelentkezes } from \"./Bejelentkezes\";\nimport { SzallasLista } from \"./SzallasLista\";\nimport { SzallasSingle } from \"./SzallasSingle\";\nexport function App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/bejelentkezes\" exact component={Bejelentkezes} />\n\n        <Route path=\"/osszes-szallas\" component={SzallasLista} />\n\n        <Route path=\"/szallas-:szallasId\">\n          {(props) => <SzallasSingle id={props.match.params.szallasId} />}\n        </Route>\n\n        <Redirect to={\"/bejelentkezes\"} />\n      </Switch>\n    </BrowserRouter>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}